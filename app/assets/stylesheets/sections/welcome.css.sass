.welcome.index
  background: image-url('graph-09.svg') no-repeat center 385px scroll
  -webkit-background-size: cover
  -moz-background-size: cover
  -o-background-size: cover
  background-size: cover

  article
    +clearfix

  // Text blurb to left of slide show
  .content
    @include span-columns(8, $break)
    margin-bottom: $base-line-height*2

  .call-to-action
    padding: $base-line-height*3 0 0 38px
    @include span-columns(4 omega, $break)

//-----------------------------------------
// Slide show Demo
//-----------------------------------------
figure#whodiniDemo
  width: 610px
  min-height: 330px
  position: relative
  display: block
  margin: 0 auto

  img
    position: absolute
    top: 0
    right: 0
    margin-left: -237px
    +opacity(0)

    &:nth-child(1)
      +animation(slide-in .5s forwards)

    &:nth-child(2)
      +animation(slide-in .5s 1s forwards)

    &:nth-child(3)
      +animation(slide-in .5s 2s forwards)

    &:nth-child(4)
      +animation(slide-in .5s 3s forwards)


//-----------------------------------------
// 3 Company Points below slideshow
//-----------------------------------------
ul#points
  margin: $base-line-height*3 0 $base-line-height 0
  padding: 0
  +transition(margin .2s ease-out)
  +pie-clearfix

  > li
    padding-left: 20px
    padding-right: 20px
    position: relative
    color: inherit
    +span-columns(4, $break)
    +transition(margin .2s ease-out)
    >ul
      padding-left: 20px
      li
        color: inherit
        +trailer(.5)

  > li
    &:last-child
      @include span-columns(4 omega, $break)

    &:nth-child(1)
      .circle
        background-image: image-url('point-1.png')
        +transition(all .2s ease-in-out .2s)

    &:nth-child(2)
      .circle
        background-image: image-url('point-2.png')
        +transition(all .2s ease-in-out .3s)

    &:nth-child(3)
      .circle
        background-image: image-url('point-3.png')
        +transition(all .2s ease-in-out .4s)

    li
      color: inherit
      list-style-type: square

    .circle
      +border-radius(50%)
      border: 3px solid white
      background-color: lighten($brand-grey, 80%)
      position: absolute
      top: 0
      left: 50%
      margin-left: -75px
      +square(150px)
      +transition(all .2s ease-in-out .2s)
      +opacity(0)


  &.active
    > li
      margin-top: 200px
      .circle
        margin-top: -180px
        +opacity(1)
        +scale(1.2)

  h2
    text-align: center
    +trailer(1)
    margin-bottom: 0.2em

.learn-more
  display: block
  +btn-pseudo-states($brand-green-lt, $brand-green-lt)
  +trailer(1)

//-----------------------------------------
// Keyframe animations
//-----------------------------------------
@include keyframes(slide-in-1)
  0%
    +opacity(0)

  25%
    +opacity(1)

  100%
    +opacity(.3)

@include keyframes(slide-in-2)
  0%
    +opacity(0)

  25%
    +opacity(1)

  75%
    +opacity(1)

  100%
    +opacity(.3)

@include keyframes(slide-in)
  0%
    +opacity(0)

  100%
    +opacity(1)